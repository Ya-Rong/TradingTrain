!function(){"use strict";var e,t,n,r,o={4053:function(e,t,n){n(492),n(9311),n(2598),n(3800),n(3108);var r=n(411),o=n.n(r);"object-fit"in document.createElement("a").style||n(9213),o().polyfill(),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i=n(8276);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.n(i)().register({request:function(e,t){if(t&&("PATCH"===t.method||"DELETE"===t.method)){var n=c({},t.headers);n.Accept="application/json",n["Content-Type"]="application/json",t.headers=n}var r=c({},t),o=document.querySelector("[data-root-api]");return o&&(e=o.getAttribute("data-root-api")+e),[e,r]},requestError:function(e){return Promise.reject(e)},response:function(e){return e},responseError:function(e){return Promise.reject(e)}});var u="udnRR:",l="/api",d="https://interactive.udn.com",f="".concat(u,"scheme"),p=("".concat(u,"text"),"".concat(u,"qa")),m="vip",v="/search/word/".concat(8799,"/"),h=767,y="https://".concat("").concat("vip.udn.com"),b="/member/login",g=("".concat(y).concat(l,"/get_AuthType"),{member:"udnland",avatar:"udnavatar",login:"udngold",nick:"udnnick",nickname:"nickname",um2:"um2",oldMember:"udnmember",session:"udnsession",ipSession:"ipsession",oAMember:"snsmember",oASeq:"fg_seq",oAAvatar:"fg_avatar",oAId:"fg_id",oACass:"fg_cassync",oAType:"fg_type"}),w=n(7921),O=n.n(w);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/MSIE|Trident/,t=window.navigator.userAgent,n=e.test(t);return n};var j=function(e,t){try{var n=document.querySelector("meta[".concat(e,'="').concat(t,'"]'));return n?n.getAttribute("content"):""}catch(e){return""}};function x(e,t){return e.className.split(" ").indexOf(t)>=0||e.parentElement&&x(e.parentNode,t)}function E(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isSignUp,n=void 0!==t&&t,r=e.index,o=void 0!==r&&r;if(o)return"".concat(y,"/vip/index");if(k())return"".concat(b,"?openExternalBrowser=1&site=").concat(m,"&redirect=").concat(window.location.href).concat(n?"#signup":"");var i=new URL(window.location.href),a=i.origin+i.pathname,c=window.innerWidth>h?m:"m_".concat(m),s=new URL(y);return s.pathname=b,s.searchParams.set("site",c),s.searchParams.set("redirect",encodeURIComponent(a)),s.searchParams.set("openExternalBrowser","1"),n&&s.searchParams.set("signup","1"),s.href}function _(e){var t=e.target,n="input"===t.tagName.toLowerCase()?t.value:t.closest(".input-holder").querySelector("input").value;""!==n.trim()&&(window.location.href=v+n)}var A=j("property","fb:app_id");window.fbAsyncInit=function(){FB.init({appId:A,xfbml:!0,autoLogAppEvents:!0,version:"v12.0"})};var P=n(1400),C=n.n(P);var L=n(7842);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,c,"next",e)}function c(e){R(i,r,o,a,c,"throw",e)}a(void 0)}))}}var I=n(4447);function M(e){return Z.apply(this,arguments)}function Z(){return Z=D(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:{},o=a.length>3&&void 0!==a[3]?a[3]:"json",i=Object.entries(n).map((function(e){return"".concat(e[0],"=").concat(e[1])})).join("&"),e.abrupt("return",I("".concat(t,"?").concat(i),T({method:"GET"},r)).then((function(e){return e[o]()})));case 5:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function U(e){return B.apply(this,arguments)}function B(){return B=D(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:"POST",o=c.length>3?c[3]:void 0,i=c.length>4&&void 0!==c[4]?c[4]:"json",a=JSON.stringify(n),e.abrupt("return",I(t,T({method:r,body:a,headers:{"Content-Type":"application/json"}},o)).then((function(e){return e[i]()})));case 7:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var H=n(4031);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance?e.instance:(e.instance=this,this)}var t,n,r;return t=e,n=[{key:"createBox",value:function(e,t){var n=e.title,r=e.message,o=e.options,i=e.type;o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({big:!0,contextTitle:!0,width:500,fn:!1},o);var a=document.createElement("section");a.className="udn-box",a.tabIndex="-1",o.big&&a.classList.add("udn-box--big");var c=document.createElement("div");c.className="udn-box__container",c.style.width=o.width+"px";var s=document.createElement("header");s.className="context-box__header";var u=document.createElement("h2");if(u.className=o.contextTitle?"context-box__title":"udn-box__title",u.textContent=n||"未知錯誤",s.appendChild(u),c.appendChild(s),void 0!==r){var l=document.createElement("div");l.innerHTML=r,l.className="udn-box__content",c.appendChild(l)}var d=document.createElement("div");d.className="udn-box__button btn-holder btn-holder--center";var f=document.createElement("button");if(f.className="confirm"===i||"asyncConfirm"===i?"btn btn-box btn-grey btn-ripple":"btn btn-box btn-red btn-ripple",f.textContent="confirm"===i||"asyncConfirm"===i?"取消":"確認",f.addEventListener("click",(function(e){e.preventDefault(),"alert"===i&&o.fn&&t&&t(),m()})),"confirm"===i||"asyncConfirm"===i){var p=document.createElement("button");p.className="btn btn-box btn-red btn-ripple",p.textContent="確定","confirm"===i&&p.addEventListener("click",(function(e){e.preventDefault(),m(),t()})),"asyncConfirm"===i&&p.addEventListener("click",(function(e){"loading"!==e.target.dataset.state&&(e.preventDefault(),e.target.dataset.state="loading",t(m))})),d.appendChild(p)}function m(){H.Z.removeClass("alert-open"),setTimeout((function(){a.parentNode.removeChild(a)}),500)}document.addEventListener("keydown",(function e(n){"Escape"===n.key&&(m(),document.removeEventListener("keydown",e)),"Enter"===n.key&&("alert"===i&&(m(),t&&o.fn&&t()),"confirm"===i&&(m(),t()),"asyncConfirm"===i&&t(m),document.removeEventListener("keydown",e))})),d.appendChild(f),c.appendChild(d),a.appendChild(c),document.body.appendChild(a),requestAnimationFrame((function(){H.Z.setClass("alert-open")})),a.focus()}},{key:"alert",value:function(e,t){var n=e.title,r=void 0===n?"錯誤":n,o=e.message,i=void 0===o?"不明錯誤，請再試一次":o,a=e.options;this.createBox({title:r,message:i,options:a,type:"alert"},t)}},{key:"confirm",value:function(e,t){var n=e.title,r=void 0===n?"確認":n,o=e.message,i=void 0===o?"請確認是否繼續進行":o,a=e.options;this.createBox({title:r,message:i,options:a,type:"confirm"},t)}},{key:"asyncConfirm",value:function(e,t){var n=e.title,r=void 0===n?"確認":n,o=e.message,i=void 0===o?"請確認是否繼續進行":o,a=e.options;this.createBox({title:r,message:i,options:a,type:"asyncConfirm"},t)}}],n&&W(t.prototype,n),r&&W(t,r),e}(),z=new $,G="loading",X="idle",Y="error",K="finished",Q="is-login",V="no-login",ee="is-notification",te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=arguments.length>3?arguments[3]:void 0,r=t,o=null,i=void 0!==n?n:e.className;function a(){if(window.__UDN__){var e=window.__UDN__.eventSubscribers.filter((function(e){return e.id===i}));e.length&&e.forEach((function(e){e.event&&e.event(r)}))}}return e.dataset.state=r,{dispatchAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o=r,e.dataset.state=t,r=t,n&&a()},get getState(){return r},get getPrevState(){return o},get isLoading(){return r==G},get isEnd(){return r===K},debugging:function(e){e}}},ne={};function re(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){re(i,r,o,a,c,"next",e)}function c(e){re(i,r,o,a,c,"throw",e)}a(void 0)}))}}["more","pv","getMbrAccount","paywall_article","paywall_trial","subscription","qa","clear_session","feature","fullpage"].forEach((function(e){Object.defineProperty(ne,e,{get:function(){return"".concat(l,"/").concat(e.toLowerCase())}})})),ne.voteFunc="https://func.udn.com/funcap/vote/voteIndexJson.jsp",ne.votePost="https://func.udn.com/funcap/vote/votingJson.jsp",ne.voice="".concat(d,"/api/voice"),ne.idea="".concat(d,"/api/idea"),ne.discuss="".concat(d,"/api/discuss"),ne.collect="".concat(d,"/api/collect"),ne.track="".concat(d,"/api/track"),ne.notification="".concat(d,"/api/notification"),ne.dddUserBase="https://vip-web-dot-ddd-model-gap.appspot.com/recommendation_user",ne.dddItemBase="https://ga360-project-324109.de.r.appspot.com/get_extend_articles";var ie=document.querySelector(".tools-box"),ae=te(ie,G);function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",t=E(g.um2);if(void 0!==t)return t;var n=E(g[e]);return void 0!==n&&(n||!1)}function se(){return ue.apply(this,arguments)}function ue(){return(ue=oe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=oe(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".user-nick"),ce()){e.next=6;break}ae.dispatchAction(V),de(),e.next=13;break;case 6:return ae.dispatchAction(Q),e.next=9,se();case 9:n=e.sent,r=O().get(g.nick),t.innerHTML=r?'<a href="/member/account/profile">'.concat((0,L.decode)((0,L.unescape)(r)),"</a>"):'<a href="/member/account/profile">設定暱稱</a>',n&&ae.dispatchAction(ee);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){O().remove(g.session),O().remove(g.login,{domain:".udn.com"}),O().remove(g.member,{domain:".udn.com"}),O().remove(g.oldMember,{domain:".udn.com"}),O().remove(g.um2,{domain:".udn.com"}),O().remove(g.oAMember,{domain:".udn.com"}),O().remove(g.oAAvatar,{domain:".udn.com"}),O().remove(g.oACass,{domain:".udn.com"}),O().remove(g.oAId,{domain:".udn.com"}),O().remove(g.oASeq,{domain:".udn.com"}),O().remove(g.oAType,{domain:".udn.com"}),O().remove(g.nick,{domain:".udn.com"})}var fe=function(e){var t=e.parentClassName,n=e.callback,r=function e(r){x(r.target,t)||(document.removeEventListener("click",e),n(r))};return{register:function(){document.addEventListener("click",r)},destroy:function(){n(),document.removeEventListener("click",r)},stop:function(){document.removeEventListener("click",r)}}},pe=n(7693),me=n.n(pe),ve=n(7815),he=n.n(ve),ye=n(8849);function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ge=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance?e.instance:(e.instance=this,this.timeoutHandler=null,this.counter=0,this)}var t,n,r;return t=e,(n=[{key:"start",value:function(){return this.counter>=3?(z.alert({title:"警告",message:'<img src="//j.udn.com.tw/img/emoticons_10.gif" class="icon">深呼吸，放慢動作<br>請勿在短時間內操作同一功能唷～'}),!1):(this.counter++,this.timer(),!0)}},{key:"timer",value:function(){var e=this;clearTimeout(this.timeoutHandler),this.timeoutHandler=setTimeout((function(){e.counter=0}),3e3)}}])&&be(t.prototype,n),r&&be(t,r),e}(),we=(new ge,n(4959)),Oe=n.n(we);function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance?e.instance:(e.instance=this,this.notifier=Oe(),this.config={api:{type:"danger",icon:"https://j.udn.com.tw/img/emoticons_09.gif"},success:{type:"success",icon:"https://j.udn.com.tw/img/emoticons_04.gif"},message:{type:"message",icon:"https://j.udn.com.tw/img/emoticons_03.gif"}},this)}var t,n,r;return t=e,(n=[{key:"showNotification",value:function(e){var t=e.title,n=void 0===t?"":t,r=e.message,o=void 0===r?"不明錯誤":r,i=e.nType,a=void 0===i?"api":i,c=e.timeout,s=void 0===c?4e3:c,u=this.config[a],l=u.type,d=u.icon;return this.notifier.show(n,o,l,d,s)}},{key:"hideNotification",value:function(){Oe().hide(this.notifier)}}])&&ke(t.prototype,n),r&&ke(t,r),e}(),xe=new je;var Ee,Se,_e;n(8880);function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pe(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Pe(i,r,o,a,c,"next",e)}function c(e){Pe(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Le(){return qe.apply(this,arguments)}function qe(){return(qe=Ce(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se){e.next=9;break}if(!k){e.next=4;break}return e.next=4,n.e(869).then(n.t.bind(n,2813,23));case 4:return e.next=6,Promise.resolve().then(n.bind(n,2394));case 6:t=e.sent,Se=t.html,_e=t.render;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Ce(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.renderSelector,o=t.beforeUnloadFn,t.isEnd,e.abrupt("return",Ce(regeneratorRuntime.mark((function e(){var t,i,a,c,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){var t=me()(),n=me()(e);return t.from(n)},a=function(e){return e?"notification-list--is_read":"notification-list--un_read"},i=function(e){switch(e){case"track":return"i-star-filled";case"article":case"reply":case"like":return"i-discuss";case"editor":return"i-mail2";default:return"i-arrow5-right"}},e.next=5,Le();case 5:return e.next=7,Promise.all(n.map(function(){var e=Ce(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Se(Ee||(Ee=Ae(['\n          <a\n            href="','"\n            @click=','\n            class="notification-list ','"\n          >\n            <span class="notification-icon"\n              ><i class="','"></i\n            ></span>\n            <div class="notification-text">','</div>\n            <time class="notification-time"\n              >',"</time\n            >\n          </a>\n        "])),t.link,o.bind(s,t),a(t.read),i(t.kind),t.text,c(t.time.dateTime)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:t=e.sent,_e(t,r);case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ue(i,r,o,a,c,"next",e)}function c(e){Ue(i,r,o,a,c,"throw",e)}a(void 0)}))}}function He(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}me().extend(he()),me().locale(ye),Be(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,c,s,u,l,d,f,p,m,v,h,y,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(function(){new EventSource(ne.notification).addEventListener("message",(function(e){var t=JSON.parse(e.data);t.state&&"notification"===t.type&&(!function(e){xe.showNotification({title:"個人訊息",message:e,nType:"message"})}('<a href="#">'.concat(t.message,"</a>")),w(a+1),c=t.time.timestamp,o=[De({},t)].concat(Me(o)),y())}))},w=function(e){a=e,t.dataset.total=e>99?"9+":e,0===e?i.dispatchAction(X):i.dispatchAction(ee)},g=function(e,t){t.preventDefault(),U(ne.notification+"/read",{channel_id:j("name","channel_id"),id:e.id},"POST",{credentials:"include"}).then((function(t){t.state&&(location.href=e.link)}))},b=function(){return(b=Be(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te({data:o,isEnd:r,renderSelector:n,beforeUnloadFn:g});case 2:(0,e.sent)();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},y=function(){return b.apply(this,arguments)},h=function(){return h=Be(regeneratorRuntime.mark((function e(){var t,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,M("".concat(ne.notification,"/list"),{limit:10,page:t,timestamp:s,channel_id:j("name","channel_id")},{credentials:"include"});case 3:if((n=e.sent).state){e.next=6;break}return e.abrupt("return");case 6:s=""===s?n.latest_time:s,c=n.latest_time,o=[].concat(Me(o),Me(n.lists)),r=n.end,n.page,w(n.total),o.length&&y(),r||l();case 14:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)},v=function(){return h.apply(this,arguments)},m=function(){return(m=Be(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==a){e.next=2;break}return e.abrupt("return");case 2:if(""!==c){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,U("".concat(ne.notification,"/clear"),{channel_id:j("name","channel_id"),latest_time:c},"POST",{credentials:"include"});case 6:e.sent&&(a=0,c="",w(0),i.dispatchAction(X));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return m.apply(this,arguments)},f=function(){return(f=Be(regeneratorRuntime.mark((function e(t){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.scrollTop,o=n.offsetHeight,i=n.scrollHeight,i-r-o;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(e){return f.apply(this,arguments)},l=function(){n.removeEventListener("scroll",d),n.addEventListener("scroll",d)},!k()){e.next=14;break}return e.abrupt("return");case 14:if(ce()){e.next=16;break}return e.abrupt("return");case 16:if(t=document.querySelector(".notification-bell"),t.querySelector(".tools-box__action"),n=document.querySelector(".notification__holder--append"),t){e.next=21;break}return e.abrupt("return");case 21:r=!1,0,o=[],i=te(t,G),a=0,c="",s="",null==t||t.addEventListener("click",(function(e){p(),d(),u&&u.stop(),u=fe({parentClassName:"notification-bell",callback:function(e){x(e.target,"notification-list")||H.Z.removeClass("notification-open")}}),u.register(),H.Z.containClass("notification-open")?(H.Z.removeAllClasses(),e.target.setAttribute("aria-pressed",!1)):(H.Z.removeAllClasses(),H.Z.setClasses(["notification-open"]),e.target.setAttribute("aria-pressed",!0))})),v();case 32:case"end":return e.stop()}}),e)})))();var Je,We,$e=document.querySelector("#schemeToggler"),ze=document.querySelector(".menuToggler"),Ge=document.querySelectorAll(".navigation-list--tap"),Xe=document.querySelectorAll(".overlay-menu .close-btn"),Ye=document.querySelectorAll(".btn-search"),Ke=document.querySelector('.overlay-menu input[type="search"]'),Qe=document.querySelector(".header"),Ve=document.querySelector(".user-menu");(function(){le.apply(this,arguments)}(),function(){var e=document.querySelector(".user-logout--btn");if(null==e||e.addEventListener("click",(function(e){e.preventDefault(),function(){ce(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login")&&z.confirm({title:"確認",message:"確認登出嗎？"},(function(){de(),location.href=S({index:!0})}))}()})),"is-login"==document.querySelector(".tools-box").getAttribute("data-state"))return;null==Ve||Ve.addEventListener("click",(function(e){e.preventDefault(),window.location.href=S()}))}(),window.__UDN__=window.__UDN__||{},window.__UDN__.eventSubscribers=[],window.udnBox=z,document.querySelector(".navigation-slider"))?(We={el:".navigation-slider"}.el,new(C())(We,{type:"slide",arrows:!1,autoWidth:!0,pagination:!1,breakpoints:{1297:{type:"slide",arrows:!1},767:{destroy:!0}}})).mount():function(){var e=Qe.dataset.expand;if(window.innerWidth<=768&&e){var t=document.querySelector('.navigation-sub[data-nav="'.concat(e,'"]'));if(t){var n=t.cloneNode(!0);n.classList.add("navigation-sub--clone"),Qe.querySelector(".container").appendChild(n)}}}();Ge.length&&window.innerWidth>=h&&He(Ge).forEach((function(e){e.addEventListener("click",(function(t){("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(t.preventDefault(),He(Ge).forEach((function(e){e!==t.target&&e.classList.remove("active")})),Je&&Je.stop(),(Je=fe({parentClassName:"navigation-content",callback:function(){He(Ge).forEach((function(e){return e.classList.remove("active")}))}})).register(),e.classList.toggle("active"))}))})),null==$e||$e.addEventListener("click",(function(e){document.documentElement.classList.toggle("rr-dk"),localStorage.setItem(f,document.documentElement.classList.contains("rr-dk")?"dark":"light")})),null==ze||ze.addEventListener("click",(function(e){Je&&Je.stop(),Je=fe({parentClassName:"header",callback:function(t){x(t.target,"sitetour-section")||(e.target.setAttribute("aria-pressed",!1),H.Z.removeAllClasses())}}),Je.register(),H.Z.containClass("menu-open")?(H.Z.removeAllClasses(),e.target.setAttribute("aria-pressed",!1)):(H.Z.removeAllClasses(),H.Z.setClasses(["menu-open"]),e.target.setAttribute("aria-pressed",!0))})),document.addEventListener("scroll",(function(e){var t,n,r=(t=void 0!==window.pageXOffset||void 0,n="CSS1Compat"===(document.compatMode||""),t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop),o=100;document.querySelector(".countdown-promotion")&&(o=180),r>=o?(document.body.classList.add("menu-stick"),document.getElementById("gotop").classList.add("show")):(document.body.classList.remove("menu-stick"),document.getElementById("gotop").classList.remove("show"))})),He(Xe).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),ze.querySelector("i").setAttribute("aria-pressed","false"),H.Z.removeAllClasses()}))})),He(Ye).forEach((function(e){e.addEventListener("click",_)})),null==Ke||Ke.addEventListener("keyup",(function(e){13===e.keyCode&&_(e)})),window.addEventListener("DOMContentLoaded",(function(){"is-login"===document.querySelector(".tools-box").getAttribute("data-state")&&Ve.setAttribute("title","我的帳號")})),null==Ve||Ve.addEventListener("click",(function(e){"is-login"===document.querySelector(".tools-box").getAttribute("data-state")&&(Je&&Je.stop(),Je=fe({parentClassName:"user-menu",callback:function(e){x(e.target,"card-box__btn")||H.Z.removeClass("login-card-open")}}),Je.register(),H.Z.containClass("login-card-open")?H.Z.removeAllClasses():(H.Z.removeAllClasses(),H.Z.setClasses(["login-card-open"])))})),window.addEventListener("DOMContentLoaded",(function(){document.querySelector(".member-header")&&document.querySelectorAll(".navigation-content").length>5&&document.querySelector(".splide__track").classList.add("drag")}));var et=document.getElementById("gotop");document.querySelector(".main-content__aside");/apple/i.test(navigator.vendor)&&document.body.classList.add("is-safari"),et.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));var tt=document.querySelector(".tools-box__item.subscription");if(tt&&!k()){var nt=tt.getAttribute("href"),rt=location.origin,ot=new URL(rt+nt);ot.searchParams.append("referrer",j("property","og:url")),tt.setAttribute("href",ot.href)}function it(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ct(i,r,o,a,c,"next",e)}function c(e){ct(i,r,o,a,c,"throw",e)}a(void 0)}))}}document.querySelector(".main-content");var ut=document.querySelector("[data-qa]"),lt=document.querySelector(".lander-editor"),dt=document.querySelector(".lander-editor__prev"),ft=document.querySelector(".lander-editor__next");document.querySelector(".marketing-content");if(null==dt||dt.addEventListener("click",(function(e){lt.classList.remove("lander-editor--next")})),null==ft||ft.addEventListener("click",(function(e){lt.classList.add("lander-editor--next")})),new(C())(".lander-editor",{type:"slide",perPage:2,gap:"40px",pagination:!1,drag:!1,clones:1,breakpoints:{767:{perPage:1,gap:0,drag:!0}}}).mount(),ut&&ce()){var pt=localStorage.getItem(p),mt=ut.dataset.qa;if(pt){var vt=JSON.parse(pt);vt.some((function(e){return e==="qa-".concat(mt)}))||ht(vt,mt)}else ht([],mt)}function ht(e,t){return yt.apply(this,arguments)}function yt(){return yt=st(regeneratorRuntime.mark((function e(t,r){var o,i,a,c,s,u,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(324).then(n.bind(n,9531));case 2:return o=e.sent,i=o.default,e.next=6,M(ne.qa,{id:r});case 6:a=e.sent,c=a.title,s=a.options,u=a.state,l=a.id,d=a.moreLink,f=a.message,u?i.createBox({title:c,options:s,id:l,moreLink:d,overlayClose:!0},function(){var e=st(regeneratorRuntime.mark((function e(n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dataset.state=G,e.next=4,U(ne.qa,{value:n.textContent,id:l});case 4:if(!(o=e.sent).state){e.next=10;break}return bt(t,l),n.dataset.state=X,r(),e.abrupt("return");case 10:n.dataset.state=Y,z.alert({message:o.message});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):"已玩過"===f&&bt(t,l);case 14:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;localStorage.setItem(p,JSON.stringify([].concat(it(e),["qa-".concat(t)])))}},4031:function(e,t){function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance?e.instance:(e.instance=this,this.classes=[],this)}var t,r,i;return t=e,r=[{key:"getClasses",value:function(){return this.classes}},{key:"containClass",value:function(e){return this.classes.some((function(t){return t===e}))}},{key:"setClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.classes=[].concat(n(this.classes),n(e)),this.classes.forEach((function(e){document.body.classList.contains(e)||document.body.classList.add(e)})),this.classes}},{key:"setClass",value:function(e){return document.body.classList.add(e),this.classes}},{key:"removeClass",value:function(e){return this.classes=this.classes.filter((function(t){return t!==e})),document.body.classList.remove(e),this.classes}},{key:"removeAllClasses",value:function(){return this.classes.forEach((function(e){document.body.classList.remove(e)})),this.classes=[],this.classes}}],r&&o(t.prototype,r),i&&o(t,i),e}(),a=new i;t.Z=a}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,e=[],a.O=function(t,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var c=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(c=!1,o<i&&(i=o));if(c){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var i={};t=t||[null,n({}),n([]),n(n)];for(var c=2&r&&e;"object"==typeof c&&!~t.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},a.d(o,i),o},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return"static/js/"+{324:"rr-qa",869:"webcomponents-template"}[e]+".bundle.js?tsb=1667892510335"},a.miniCssF=function(e){return"static/css/index.css?tsb=1667892510335"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},a.l=function(e,t,n,o){if(r[e])r[e].push(t);else{var i,c;if(void 0!==n)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var l=s[u];if(l.getAttribute("src")==e){i=l;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.src=e),r[e]=[t];var d=function(t,n){i.onerror=i.onload=null,clearTimeout(f);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),c&&document.head.appendChild(i)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.p="/",function(){var e={826:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=o);var i=a.p+a.u(t),c=new Error;a.l(i,(function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}}),"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],c=n[1],s=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(s)var l=s(a)}for(t&&t(n);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[i[u]]=0;return a.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),a.O(void 0,[736],(function(){return a(1202)}));var c=a.O(void 0,[736],(function(){return a(4053)}));c=a.O(c)}();